<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Register/Login & The Chosen One</title>
<style>
  body {
    font-family: Consolas, monospace;
    background: #111;
    color: #0ff;
    text-align: center;
    padding: 20px;
  }
  input, button {
    font-size: 16px;
    margin: 8px;
    padding: 8px;
    border-radius: 6px;
    border: none;
  }
  button {
    background: #00ffff;
    color: #000;
    font-weight: bold;
    cursor: pointer;
  }
  button:hover {
    background: #0cc;
  }
  #chosenPage {
    display: none;
  }
  .symbols {
    font-size: 40px;
    animation: spin 8s linear infinite, colorChange 6s ease-in-out infinite alternate;
    margin: 20px 0;
  }
  img {
    width: 200px;
    border: 4px solid #00ffff;
    border-radius: 20px;
    box-shadow: 0 0 30px cyan;
    animation: pulse 2s infinite ease-in-out;
  }
  @keyframes spin { 0% {transform: rotate(0deg);} 100% {transform: rotate(360deg);} }
  @keyframes pulse { 0% {transform: scale(1);} 50% {transform: scale(1.04);} 100% {transform: scale(1);} }
  @keyframes colorChange { 0% {color: #00f;} 100% {color: #ff6600;} }
</style>
</head>
<body>

<div id="authPage">
  <h1 id="title">Register</h1>
  <input id="username" placeholder="Username" autocomplete="off" />
  <input id="password" type="password" placeholder="Password" autocomplete="off" /><br/>
  <button id="submitBtn">Register</button><br/>
  <a href="#" id="toggleAuth" style="color:#0ff;">Switch to Login</a>
</div>

<div id="chosenPage">
  <h1>You are the chosen one</h1>
  <div class="symbols">Enter at your own risk</div>
  <img src="https://thumbs.dreamstime.com/b/emoticon-sunglasses-22756566.jpg" alt="Emoticon Sunglasses" />
  <div style="font-style: italic; font-size: 20px; margin-top: 15px; color: lime;">
    You should really enter :D
  </div>
  <button id="accessLink" style="background:red; color:white; font-weight:bold; padding:14px 28px; border:none; border-radius:8px; cursor:pointer; box-shadow: 0 0 15px red; margin-top:30px;">
    ðŸš¨ Click to access my Link ðŸš¨
  </button><br/>
  <button id="logoutBtn" style="margin-top: 20px;">Logout</button>
</div>

<script>
  const authPage = document.getElementById('authPage');
  const chosenPage = document.getElementById('chosenPage');
  const title = document.getElementById('title');
  const submitBtn = document.getElementById('submitBtn');
  const toggleAuth = document.getElementById('toggleAuth');
  const usernameInput = document.getElementById('username');
  const passwordInput = document.getElementById('password');
  const accessLinkBtn = document.getElementById('accessLink');
  const logoutBtn = document.getElementById('logoutBtn');

  // Load stored users or empty obj
  let users = JSON.parse(localStorage.getItem('users') || '{}');
  // Track mode: true = register, false = login
  let isRegister = true;

  // Check logged in user
  if (localStorage.getItem('loggedInUser')) {
    showChosen();
  }

  toggleAuth.addEventListener('click', e => {
    e.preventDefault();
    isRegister = !isRegister;
    if (isRegister) {
      title.textContent = 'Register';
      submitBtn.textContent = 'Register';
      toggleAuth.textContent = 'Switch to Login';
    } else {
      title.textContent = 'Login';
      submitBtn.textContent = 'Login';
      toggleAuth.textContent = 'Switch to Register';
    }
    usernameInput.value = '';
    passwordInput.value = '';
  });

  submitBtn.addEventListener('click', () => {
    const user = usernameInput.value.trim();
    const pass = passwordInput.value.trim();

    if (!user || !pass) {
      alert('Enter username & password');
      return;
    }

    if (isRegister) {
      if (users[user]) {
        alert('User exists! Switch to login.');
        return;
      }
      users[user] = pass;
      localStorage.setItem('users', JSON.stringify(users));
      alert('Registered! Now login.');
      toggleAuth.click(); // Switch to login form
    } else {
      // Login: accept any saved username/pass combo
      if (users[user] === pass) {
        localStorage.setItem('loggedInUser', user);
        showChosen();
      } else {
        alert('Wrong username or password');
      }
    }
  });

  function showChosen() {
    authPage.style.display = 'none';
    chosenPage.style.display = 'block';
  }

  accessLinkBtn.onclick = () => {
    window.open('https://docs.google.com/document/d/17V0c42kK7rWt0fQr4QscPvdpojCMGOrtaEppNhSznmE/edit?usp=sharing', '_blank');
  };

  logoutBtn.onclick = () => {
    localStorage.removeItem('loggedInUser');
    chosenPage.style.display = 'none';
    authPage.style.display = 'block';
    usernameInput.value = '';
    passwordInput.value = '';
    if (!isRegister) toggleAuth.click();
  };

</script>
</body>
</html>
